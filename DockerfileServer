FROM openjdk:8-jdk-alpine as build
WORKDIR /workspace/app

COPY gradle/ ./gradle/
COPY gradlew .
COPY .gradle/ .gradle/
COPY build.gradle.kts .
COPY settings.gradle.kts .
COPY src src

RUN ./gradlew assemble -i
RUN cp ./build/libs/*.jar ./app.jar
ENTRYPOINT ["java","-jar","app.jar"]